{"version":3,"sources":["components/content/chat/chat.module.css","components/content/chat/chat.tsx"],"names":["module","exports","ChatContainer","smartData","useSelector","getSmartChatReducer","chatACs","getChatACs","colorTheme","getColorTheme","dispatch","useDispatch","loaderGIF","getSmartPicsNLoaders","auth_LDR_GIF","useEffect","setSocketChannelThunkAC","setChatArrEmpty","useState","chatGeneralDnmc","headerDnmc","avaDnmc","userNameDnmc","formSenderDnmc","inputerDnmc","followBTNDnmc","themes","setThemes","stl","chatGeneralN","headerN","avaN","userNameN","formSenderN","inputerN","followBTN_N","chatGeneralM","headerM","avaM","userNameM","formSenderM","inputerM","followBTN_M","chatGeneralD","headerD","avaD","userNameD","formSenderD","inputerD","followBTN_D","chatGeneralE","headerE","avaE","userNameE","formSenderE","inputerE","followBTN_E","webSocket","Chat","chatData","chatArr","msgSender","msg","send","err","console","log","readyStatus","defaultAva","defaultAvatar","ldrGIF","className","cn","chatGeneral","header","chatWrapper","loaderDiv_Users","loader","src","alt","map","el","i","key","msgBlock","avaAndLink","to","userId","photo","userName","msgBody","message","formSender","initialValues","text","validate","values","errors","onSubmit","setSubmitting","handleChange","handleSubmit","isSubmitting","formik","name","onChange","value","placeholder","as","inputer","type","disabled","sendBTN","respect"],"mappings":"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","file":"static/js/7.2301ee7e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatGeneral\":\"chat_chatGeneral__2FhYm\",\"chatGeneralN\":\"chat_chatGeneralN__Nrmed\",\"chatGeneralM\":\"chat_chatGeneralM__SSDyv\",\"chatGeneralD\":\"chat_chatGeneralD__1zRbn\",\"chatGeneralE\":\"chat_chatGeneralE__2zoDh\",\"header\":\"chat_header__m4xam\",\"headerN\":\"chat_headerN__2aRjj\",\"headerM\":\"chat_headerM__29DBg\",\"headerD\":\"chat_headerD__xF-Ch\",\"headerE\":\"chat_headerE__r0daI\",\"loaderDiv_Users\":\"chat_loaderDiv_Users__1Jqih\",\"loader\":\"chat_loader__3ns_B\",\"chatWrapper\":\"chat_chatWrapper__2bUP4\",\"msgBlock\":\"chat_msgBlock__aNDxJ\",\"avaAndLink\":\"chat_avaAndLink__1rT2y\",\"avaN\":\"chat_avaN__2kzZQ\",\"avaM\":\"chat_avaM__3UWWd\",\"avaD\":\"chat_avaD__3TaW1\",\"avaE\":\"chat_avaE__2kMou\",\"userNameN\":\"chat_userNameN__SkMTb\",\"userNameM\":\"chat_userNameM__UCiq0\",\"userNameD\":\"chat_userNameD__3kYt7\",\"userNameE\":\"chat_userNameE__RQfFn\",\"msgBody\":\"chat_msgBody__2KeMU\",\"formSender\":\"chat_formSender__2oNPq\",\"formSenderN\":\"chat_formSenderN__2BvX-\",\"formSenderM\":\"chat_formSenderM__1KUan\",\"formSenderD\":\"chat_formSenderD__3pWRk\",\"formSenderE\":\"chat_formSenderE__1xhpq\",\"formik\":\"chat_formik__2L3ib\",\"inputer\":\"chat_inputer__I3OXa\",\"inputerN\":\"chat_inputerN__27X6a\",\"inputerM\":\"chat_inputerM__17OUH\",\"inputerD\":\"chat_inputerD__1eP4P\",\"inputerE\":\"chat_inputerE__DymTi\",\"sendBTN\":\"chat_sendBTN__3TDeL\",\"respect\":\"chat_respect__2sW21\",\"followBTN_N\":\"chat_followBTN_N__1AIVV\",\"followBTN_M\":\"chat_followBTN_M__3QCFR\",\"followBTN_D\":\"chat_followBTN_D__3LNeq\",\"followBTN_E\":\"chat_followBTN_E__2SMlc\"};","import React, { useState, useEffect } from 'react'\r\nimport stl from './chat.module.css'\r\nimport { Field, Formik } from 'formik';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getChatACs, getColorTheme, getSmartChatReducer, getSmartPicsNLoaders } from '../../../redux/selectors';\r\nimport { ReadyStatus_Type } from '../../../redux/chatReducer'\r\nimport { NavLink } from 'react-router-dom';\r\nimport cn from 'classnames/bind';\r\n\r\ntype ChatArr_Type = { message: string, photo: string, userId: number, userName: string }\r\ntype Themes_Type = { chatGeneralDnmc: string, headerDnmc: string, avaDnmc: string, userNameDnmc: string, formSenderDnmc: string, inputerDnmc: string, followBTNDnmc: string }\r\nexport default function ChatContainer() {\r\n\r\n  let smartData = useSelector(getSmartChatReducer)\r\n  let chatACs = useSelector(getChatACs);\r\n  let colorTheme = useSelector(getColorTheme);\r\n  let dispatch = useDispatch()\r\n  let loaderGIF = useSelector(getSmartPicsNLoaders).auth_LDR_GIF;\r\n\r\n  useEffect(() => { dispatch(chatACs.setSocketChannelThunkAC()); return () => { dispatch(chatACs.setChatArrEmpty()) } }, [])\r\n\r\n  let chatMSGSender = (msg: string) => { try { smartData.webSocket?.send(msg) } catch (err) { console.log(err) } }\r\n\r\n  let [themes, setThemes] = useState<Themes_Type>({ chatGeneralDnmc: '', headerDnmc: '', avaDnmc: '', userNameDnmc: '', formSenderDnmc: '', inputerDnmc: '', followBTNDnmc: '', })\r\n  useEffect(() => {\r\n    switch (colorTheme) {\r\n      case 'NIGHT': return setThemes({\r\n        ...themes, chatGeneralDnmc: stl.chatGeneralN, headerDnmc: stl.headerN, avaDnmc: stl.avaN, userNameDnmc: stl.userNameN, formSenderDnmc: stl.formSenderN, inputerDnmc: stl.inputerN, followBTNDnmc: stl.followBTN_N,\r\n      });\r\n      case 'MORNING': return setThemes({\r\n        ...themes, chatGeneralDnmc: stl.chatGeneralM, headerDnmc: stl.headerM, avaDnmc: stl.avaM, userNameDnmc: stl.userNameM, formSenderDnmc: stl.formSenderM, inputerDnmc: stl.inputerM, followBTNDnmc: stl.followBTN_M,\r\n      });\r\n      case 'DAY': return setThemes({\r\n        ...themes, chatGeneralDnmc: stl.chatGeneralD, headerDnmc: stl.headerD, avaDnmc: stl.avaD, userNameDnmc: stl.userNameD, formSenderDnmc: stl.formSenderD, inputerDnmc: stl.inputerD, followBTNDnmc: stl.followBTN_D,\r\n      });\r\n      case 'EVENING': return setThemes({\r\n        ...themes, chatGeneralDnmc: stl.chatGeneralE, headerDnmc: stl.headerE, avaDnmc: stl.avaE, userNameDnmc: stl.userNameE, formSenderDnmc: stl.formSenderE, inputerDnmc: stl.inputerE, followBTNDnmc: stl.followBTN_E,\r\n      });\r\n    }\r\n  }, [colorTheme])\r\n\r\n\r\n  return <> { smartData.webSocket === null ? null : <Chat chatData={smartData.chatArr} msgSender={chatMSGSender} readyStatus={smartData.readyStatus} defaultAva={smartData.defaultAvatar} themes={themes} ldrGIF={loaderGIF} />} </>\r\n\r\n}\r\n\r\ntype ChatProps_Type = { chatData: ChatArr_Type[], msgSender: (arg: string) => void, readyStatus: ReadyStatus_Type, defaultAva: string, themes: Themes_Type, ldrGIF: string }\r\nlet Chat: React.FC<ChatProps_Type> = ({ chatData, msgSender, readyStatus, defaultAva, ldrGIF, themes }) => {\r\n\r\n  type Value_Type = { text: string }\r\n  type Error_Type = { text?: string }\r\n\r\n  let validator = (values: Value_Type) => { let errors: Error_Type = {}; if (!values.text) { errors.text = 'Required' } return errors }\r\n\r\n  let submitter = (values: Value_Type, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n    msgSender(values.text); values.text = ''; setSubmitting(false);\r\n  }\r\n\r\n\r\n  return <div className={cn(stl.chatGeneral, themes.chatGeneralDnmc)} >\r\n    <div className={cn(stl.header, themes.headerDnmc)}>\r\n      <p>Chat</p>\r\n      <p>There are more than 15 thousand of us!</p>\r\n    </div>\r\n    <div className={cn(stl.chatWrapper, themes.chatGeneralDnmc)}>\r\n      {readyStatus === 'pending' &&\r\n        <div className={stl.loaderDiv_Users}>\r\n          <img className={stl.loader} src={ldrGIF} alt=\"Err\" />\r\n        </div>\r\n      }\r\n      {chatData.map((el, i) =>\r\n        <div key={i} className={cn(stl.msgBlock, themes.headerDnmc)}>\r\n          <div className={cn(stl.avaAndLink, themes.avaDnmc)}>\r\n            <NavLink to={`/profile/${el.userId}`}>\r\n              <img src={el.photo ? el.photo : defaultAva} alt=\"Err\" />\r\n            </NavLink>\r\n            <NavLink to={`/dialogs/${el.userId}`}\r\n            > <p className={themes.userNameDnmc}>{el.userName}</p> </NavLink>\r\n          </div>\r\n\r\n          <div className={stl.msgBody}> {el.message} </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n    <div className={cn(stl.formSender, themes.formSenderDnmc)}>\r\n      <Formik initialValues={{ text: '' }} validate={validator} onSubmit={submitter}>\r\n        {({ values, errors, handleChange, handleSubmit, isSubmitting }) => (\r\n          <form onSubmit={handleSubmit} className={stl.formik} >\r\n            <Field name=\"text\" onChange={handleChange} value={values.text} placeholder={errors.text} as='textarea'\r\n              className={cn(stl.inputer, themes.inputerDnmc)}\r\n            />\r\n            <button\r\n              type=\"submit\" disabled={isSubmitting && readyStatus === 'opened'}\r\n              className={`${stl.sendBTN} ${themes.followBTNDnmc}`}\r\n            >\r\n              <span className={stl.respect}>{'Good luck. And remember - respect is everything =))'}</span>\r\n              Send\r\n            </button>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  </div>\r\n}\r\n"],"sourceRoot":""}
(this.webpackJsonpsocial_network_deployment=this.webpackJsonpsocial_network_deployment||[]).push([[1],{159:function(e,a,r){e.exports={usersPage:"users_usersPage__1TRnN",friendsGeneral:"users_friendsGeneral__2YWn8",delay:"users_delay__25Jn4",usersPageN:"users_usersPageN__1sGMA",friendsGeneralN:"users_friendsGeneralN__23-i7",usersPageM:"users_usersPageM__2KrhU",friendsGeneralM:"users_friendsGeneralM__2pjcm",usersPageD:"users_usersPageD__3oX5c",friendsGeneralD:"users_friendsGeneralD___dcGa",usersPageE:"users_usersPageE__26y5Q",friendsGeneralE:"users_friendsGeneralE__3RfBh",userInfo:"users_userInfo__2b8OJ",generalHeader:"users_generalHeader__3_jJj",generalHeaderN:"users_generalHeaderN__2IwNg",generalHeaderM:"users_generalHeaderM__2hNeB",generalHeaderD:"users_generalHeaderD__hMRUH",generalHeaderE:"users_generalHeaderE__OEKfG",userHeader:"users_userHeader__1DZLC",friendsHeader:"users_friendsHeader__16AcC",friendsHeaderH2:"users_friendsHeaderH2__THoJ5",paginationBlockOutside:"users_paginationBlockOutside__1M4-p",pagBTN:"users_pagBTN__1UzvR",pagBTN_N:"users_pagBTN_N__1eDCF",pagBTN_M:"users_pagBTN_M__J0wV_",pagBTN_D:"users_pagBTN_D__KT8vl",pagBTN_E:"users_pagBTN_E__OF8zB",paginationSelected:"users_paginationSelected__3Y_E-",pagination:"users_pagination__1BR_a",paginationN:"users_paginationN__26V4e",paginationSelectedN:"users_paginationSelectedN__1ZfJY",paginationM:"users_paginationM__3OYMx",paginationSelectedM:"users_paginationSelectedM__3Ub3h",paginationD:"users_paginationD___5PRi",paginationSelectedD:"users_paginationSelectedD__1D8Nd",paginationE:"users_paginationE__14jsp",paginationSelectedE:"users_paginationSelectedE__2DB9A",searchBlock:"users_searchBlock__3k8kz",searchInput:"users_searchInput__u5N6Y",searchInputN:"users_searchInputN__2CK0h",searchInputM:"users_searchInputM__1xf-3",searchInputD:"users_searchInputD__1ZRDv",searchInputE:"users_searchInputE___PWrH",loaderDiv_Friends:"users_loaderDiv_Friends__yetbV",loaderDiv_Users:"users_loaderDiv_Users__10u64",Houston:"users_Houston__ao63t",noFriendsWrapper:"users_noFriendsWrapper__2rGdl",loader:"users_loader__b9zPb",nobodyFound:"users_nobodyFound__38Mw6",mapWrapper:"users_mapWrapper__HmTTB",wrapperLocked:"users_wrapperLocked__3LtuH",mapWrapperN:"users_mapWrapperN__3vllv",mapWrapperM:"users_mapWrapperM__26sVJ",mapWrapperD:"users_mapWrapperD__tQ_A6",mapWrapperE:"users_mapWrapperE__1AS-l",userUnitContainer:"users_userUnitContainer__11ZX2",userUnit:"users_userUnit__3hmwg",userUnitHidden:"users_userUnitHidden__NbDmc",userUnitShowed:"users_userUnitShowed__17KfH",userUnitN:"users_userUnitN__1BPPu",userUnitM:"users_userUnitM__-e-VM",userUnitD:"users_userUnitD__3zLjv",userUnitE:"users_userUnitE__3VGmP",avaDiv:"users_avaDiv__27BGQ",userAvaN:"users_userAvaN__1u4e7",userAvaM:"users_userAvaM__1ELIJ",userAvaD:"users_userAvaD__2bV3h",userAvaE:"users_userAvaE__2U0Fq",nameStateBTNs:"users_nameStateBTNs__1gWX-",followBTN:"users_followBTN__33A7X",followBTNContainer:"users_followBTNContainer__3Mauo",followBTNText:"users_followBTNText__1d9eK",onFollowingErrBTN:"users_onFollowingErrBTN__37XJD",tryAgainBTN:"users_tryAgainBTN__vWrzf",followBTNLoader:"users_followBTNLoader__2jkXm",followBTN_N:"users_followBTN_N__2QjMN",followBTN_M:"users_followBTN_M__3wHf7",followBTN_D:"users_followBTN_D__3czJg",followBTN_E:"users_followBTN_E__14aXG",followBTN_ERR_N:"users_followBTN_ERR_N__2oKFz",followBTN_ERR_M:"users_followBTN_ERR_M__3PIbC",followBTN_ERR_D:"users_followBTN_ERR_D__2IBW4",followBTN_ERR_E:"users_followBTN_ERR_E__D4pz2",msgSender:"users_msgSender__3zlb6",userWriteMode:"users_userWriteMode__5dooL",userWriteModeN:"users_userWriteModeN__2sd_o",userWriteModeM:"users_userWriteModeM__1C8ak",userWriteModeD:"users_userWriteModeD__3wt-r",userWriteModeE:"users_userWriteModeE__2SgiI",miniHeadWrapper:"users_miniHeadWrapper__3IJBw",closeBTN:"users_closeBTN__2gLRt",textAreaWrapper:"users_textAreaWrapper__wGVgw",talkTextarea:"users_talkTextarea__3rbPc",userBlockInfo:"users_userBlockInfo__2zEuy",userName:"users_userName__12Gwj",userNameN:"users_userNameN__gwi24",userNameM:"users_userNameM__jIGks",userNameD:"users_userNameD__33Y1t",userNameE:"users_userNameE__1hotn",followNWriteBTNS:"users_followNWriteBTNS__vwxR5",moreUserUnits:"users_moreUserUnits__3nfJi",moreUserUnitsN:"users_moreUserUnitsN__Nycjg",moreUserUnitsM:"users_moreUserUnitsM__2cxdn",moreUserUnitsD:"users_moreUserUnitsD__3qX4e",moreUserUnitsE:"users_moreUserUnitsE__10CXL",moreUsersShower:"users_moreUsersShower__3cdL5"}},163:function(e,a,r){"use strict";r.d(a,"a",(function(){return g})),r.d(a,"b",(function(){return f}));var s=r(7),t=r(19),n=r(0),o=r.n(n),l=r(159),u=r.n(l),i=r(10),_=r(17),c=r(158),m=r(156),d=r(48),p=r(14),N=r.n(p),g=function(e){var a=e.themes,r=e.usersInfo,l=e.usersFuncs,m=e.delayFlag,p=Object(n.useState)(""),g=Object(t.a)(p,2),E=g[0],v=g[1],T=Object(n.useState)(1),B=Object(t.a)(T,2),h=B[0],w=B[1],b=Object(n.useState)(!1),D=Object(t.a)(b,2),U=D[0],M=D[1],S=Object(n.useState)(""),k=Object(t.a)(S,2),I=k[0],W=k[1],x=Object(i.f)(),y=r.totalCount,H=r.pageSize,C=Math.ceil(y/H);Object(n.useEffect)((function(){P.term&&""!==P.term&&(M(!0),W(P.term)),P["?page"]&&y&&+P["?page"]>C?(l.getUsersThunk(H,C),w(Math.ceil(y/1e3))):P["?page"]&&w(Math.ceil(+P["?page"]/10))}),[y]);var R=function(){for(var e=10*(h-1)+1,s=10*h,t=Math.ceil(C/10),n=[],i=1;i<=C;i++)n.push(i);var _=function(e){var r;Array.from(null===(r=e.target.parentElement.parentElement.parentElement.children[1])||void 0===r?void 0:r.children).forEach((function(e){return e.children[0].className=N()(u.a.userUnit,a.userUnitDnmc,u.a.userUnitShowed)})),J(L={servInfo:[]})};return C?o.a.createElement("div",{className:u.a.paginationBlockOutside},o.a.createElement("button",{className:"".concat(u.a.pagBTN," ").concat(a.pagBTNDnmc),onClick:function(){return w(h-1)},disabled:1===h}," \xab ",10," "),n.filter((function(a){return a>=e&&a<=s})).map((function(e){return o.a.createElement("span",{key:e,className:r.currentPage===e?"".concat(u.a.paginationSelected," ").concat(a.paginationSelectedDnmc):"".concat(u.a.pagination," ").concat(a.paginationDnmc),onClick:function(a){var s;null===z||void 0===z||null===(s=z.current)||void 0===s||s.scrollTo(0,0),r.isLoading||(U&&r.currentPage!==e?(l.getCertainUserThunk(H,I,e),_(a)):(F(H,e),_(a)))}},e)})),o.a.createElement("button",{className:"".concat(u.a.pagBTN," ").concat(a.pagBTNDnmc),onClick:function(){return w(h+1)},disabled:h>t-1}," ",10," \xbb")):null},F=function(e,a){l.setCurrentPageThunk(e,a),E&&v("")},j=Object(i.g)().search,P=d.parse(j),G=function(){U&&(l.setCurrentPageThunk(50,1),M(!1),x.push({pathname:"users",search:"?page=".concat(r.currentPage)})),l.setErrorToNull()},O=Object(n.useState)({servInfo:[]}),A=Object(t.a)(O,2),L=A[0],J=A[1],z=o.a.createRef();window.onkeyup=function(e){"Escape"===e.key&&function(){if(L.servInfo.length){var e=Object(s.a)(L.servInfo);e.forEach((function(e){void 0!==e&&(e.flag=!1)})),J(L={servInfo:e}),v("")}}()};var V=Object(n.useState)({index:-1,elem:""}),X=Object(t.a)(V,2),K=X[0],Y=X[1];Object(n.useEffect)((function(){if(K.index>=0){var e=Object(s.a)(L.servInfo);e[K.index].flag=!1;var r={servInfo:e};K.elem.className=N()(u.a.userUnit,a.userUnitDnmc,u.a.userUnitShowed),J(L=r),e.filter((function(e){return void 0!==e})).every((function(e){return!1===e.flag}))&&v(u.a.wrapperUnlocked)}}),[K]);var q=function(e,a){Y({index:e,elem:a})};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:N()(u.a.usersPage,a.userPageDnmc,m&&u.a.delay)},o.a.createElement("div",{className:u.a.userInfo},o.a.createElement("div",{className:N()(u.a.generalHeader,a.generalHeaderDnmc,m&&u.a.delay)},o.a.createElement("h2",{className:u.a.userHeader},"Users"),o.a.createElement(R,null),o.a.createElement("div",{className:u.a.searchBlock},o.a.createElement(c.b,{initialValues:{text:P.term||""},validate:function(e){var a={};return e.text.trim()||(e.text="",a.text="Required"),a},onSubmit:function(e,a){var s=a.setSubmitting;M(!0),W(e.text),x.push({pathname:"users",search:"?page=".concat(r.currentPage,"&term=").concat(e.text)}),l.getCertainUserThunk(H,e.text.trim(),1),s(!1)}},(function(e){var r=e.values,s=e.errors,t=e.handleChange,n=e.handleSubmit,l=e.isSubmitting,i=e.handleReset;return o.a.createElement("form",{onSubmit:n,onReset:i},o.a.createElement(c.a,{name:"text",type:"text",value:r.text,onChange:t,placeholder:s.text,className:N()(u.a.searchInput,a.searchInputDnmc,m&&u.a.delay)}),o.a.createElement("button",{type:"submit",disabled:l,className:N()(u.a.pagBTN,a.pagBTNDnmc)},"Find!"),o.a.createElement("button",{className:N()(u.a.pagBTN,a.pagBTNDnmc),type:"reset",onClick:G},"X"))})))),r.isLoading?o.a.createElement("div",{className:u.a.loaderDiv_Users},o.a.createElement("img",{className:u.a.loader,src:r.generalLDR_GIF,alt:"Err"})):r.usersGettingError||r.userFindingError?o.a.createElement("div",{className:u.a.Houston},o.a.createElement("h2",null,"Houston, we've got a problem..."),o.a.createElement("h2",null,r.usersGettingError||r.userFindingError),r.usersGettingError&&o.a.createElement("button",{className:N()(u.a.moreUsersShower,a.pagBTNDnmc),onClick:function(){l.setErrorToNull(),F(r.pageSize,r.currentPage)}},"Try again")):r.userNotFound&&!r.initialUsersList.length?o.a.createElement("div",{className:u.a.nobodyFound},o.a.createElement("img",{src:r.userNotFoundGIF,alt:"Err"}),o.a.createElement("h2",null,r.userNotFound," =(")):o.a.createElement("div",{ref:z,className:N()(u.a.mapWrapper,a.mapWrapperDnmc,E,m&&u.a.delay)},null===r||void 0===r?void 0:r.initialUsersList.map((function(e,t,n){var i,c;return o.a.createElement("div",{className:u.a.userUnitContainer,key:t},o.a.createElement("div",{className:(null===(i=L.servInfo[t])||void 0===i?void 0:i.flag)?N()(u.a.userUnitHidden):N()(u.a.userUnit,a.userUnitDnmc,u.a.userUnitShowed)},o.a.createElement("div",{className:u.a.avaDiv},o.a.createElement(_.b,{to:"/profile/".concat(e.id)},o.a.createElement("img",{src:e.photos.large||r.defaultAvatar,alt:"err",className:"".concat(a.userAvaDnmc)}))),o.a.createElement("div",{className:u.a.nameStateBTNs},o.a.createElement("div",{className:u.a.userBlockInfo},o.a.createElement(_.b,{to:"/profile/".concat(e.id)},o.a.createElement("h2",{className:N()(u.a.userName,a.userNameDnmc)},e.name," ")),o.a.createElement("p",null,e.status)),o.a.createElement("div",{className:u.a.followNWriteBTNS},o.a.createElement("button",{id:e.id,disabled:r.followingInProgress.some((function(a){return a===e.id})),className:N()(u.a.followBTN,e.error?a.followBTN_ERR_DNMC:a.followBTNDnmc),onClick:function(){return l.followThunkToggler(e.id,e.followed,e.error)}},o.a.createElement("div",{className:u.a.followBTNContainer},o.a.createElement("div",{className:u.a.followBTNText},e.error?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:u.a.onFollowingErrBTN},e.error),o.a.createElement("p",{className:u.a.tryAgainBTN},"Try again!")):e.followed?"unFollow":"Follow"," "),o.a.createElement("div",{className:u.a.followBTNLoader}," ",r.followingInProgress.some((function(a){return a===e.id}))&&o.a.createElement("img",{src:r.BTN_FLW_GIF,alt:"Err"})," "))),o.a.createElement("button",{className:N()(u.a.followBTN,a.followBTNDnmc),onClick:function(e){!function(e,a){var r;(null===z||void 0===z?void 0:z.current)&&e.target.parentElement.parentElement.parentElement.parentElement.getBoundingClientRect().top<=(null===z||void 0===z||null===(r=z.current)||void 0===r?void 0:r.getBoundingClientRect().top)&&e.target.parentElement.parentElement.parentElement.parentElement.scrollIntoView({behavior:"smooth"}),v(u.a.wrapperLocked);var t=Object(s.a)(L.servInfo);void 0===t[a]?t[a]={flag:!0}:!0===t[a].flag?t[a].flag=!1:!1===t[a].flag&&(t[a].flag=!0),t[a].closer=function(e,a){return q(e,a)},J(L={servInfo:t})}(e,t)}},"Write message ")))),(null===(c=L.servInfo[t])||void 0===c?void 0:c.flag)&&o.a.createElement(f,{index:t,userEl:n[t],themes:a,sendMsg:l.sendMessageToUserThunk,closer:L.servInfo[t].closer,delayFlag:m}))})))),o.a.createElement("div",{className:N()(u.a.moreUserUnits,a.moreUserUnitsDnmc)})))},f=o.a.memo((function(e){var a=e.themes,r=e.userEl,s=e.sendMsg,t=e.index,n=e.closer,l=e.delayFlag,i=function(e,a,r,t){var n=t.setSubmitting,o=Object(m.a)();s(e,a.text,o,r),a.text="",n(!1)};return o.a.createElement("div",{className:N()(u.a.userWriteMode,a.userWriteModeDnmc,u.a.userUnitShowed,l&&u.a.delay)},o.a.createElement("div",{className:u.a.miniHeadWrapper},o.a.createElement("h2",{className:N()(u.a.userName,a.userNameDnmc)},r.name),o.a.createElement(_.b,{to:"/dialogs/".concat(r.id)},o.a.createElement("button",{className:N()(u.a.followBTN,a.followBTNDnmc)},"Go to chat")),o.a.createElement("button",{className:N()(u.a.closeBTN,u.a.followBTN,a.followBTNDnmc),onClick:function(e){!function(e,a){var r,s,t,o,l,u=null===a||void 0===a||null===(r=a.parentElement)||void 0===r||null===(s=r.parentElement)||void 0===s||null===(t=s.parentElement)||void 0===t||null===(o=t.parentElement)||void 0===o||null===(l=o.children[e])||void 0===l?void 0:l.children[0];n&&n(e,u)}(t,e.target)}},"X")),o.a.createElement("div",{className:u.a.textAreaWrapper},o.a.createElement(c.b,{initialValues:{text:""},validate:function(e){var a={};return e.text||(a.text="Required"),a},onSubmit:function(e,a){var s=a.setSubmitting;i(r.id,e,r.name,{setSubmitting:s}),e.text="",s(!1)}},(function(e){var s=e.values,t=e.errors,n=e.handleChange,l=e.handleSubmit,_=e.isSubmitting,m=e.setSubmitting;return o.a.createElement("form",{onSubmit:l},o.a.createElement(c.a,{name:"text",className:u.a.talkTextarea,as:"textarea",onChange:n,value:s.text,placeholder:t.text,onKeyDown:function(e){return function(e,a,r,s,t){var n=t.setSubmitting;13==e.keyCode&&e.shiftKey||13===e.keyCode&&i(a,r,s,{setSubmitting:n})}(e,r.id,s,r.name,{setSubmitting:m})}}),o.a.createElement("button",{type:"submit",disabled:_,className:N()(u.a.followBTN,a.followBTNDnmc)}," Send Msg "))}))))}))}}]);
//# sourceMappingURL=1.c9b72e55.chunk.js.map
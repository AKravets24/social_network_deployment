(this.webpackJsonpsocial_network_deployment=this.webpackJsonpsocial_network_deployment||[]).push([[10],{183:function(e,a,n){"use strict";n.r(a);var r=n(1),t=n(19),l=n(0),c=n.n(l),s=n(8),o=n(7),i=n(17),m=n(159),u=n.n(m),d=n(14),f=n.n(d),N=n(163),p=function(e){var a=e.themes,n=e.palsFuncs,r=e.palsInfo,s=Object(l.useState)(""),m=Object(t.a)(s,2),d=m[0],p=m[1],g=Object(l.useState)(1),D=Object(t.a)(g,2),E=D[0],v=D[1],T=function(e){n.getMyFriendsListThunk(e)},w=c.a.createRef(),B=Object(l.useState)({servInfo:[]}),U=Object(t.a)(B,2),h=U[0],b=U[1];window.onkeyup=function(e){"Escape"===e.key&&function(){if(h.servInfo.length){var e=Object(o.a)(h.servInfo);e.forEach((function(e){void 0!==e&&(e.flag=!1)})),b(h={servInfo:e}),p("")}}()};var _=Object(l.useState)({index:-1,elem:""}),M=Object(t.a)(_,2),I=M[0],O=M[1];Object(l.useEffect)((function(){if(I.index>=0){var e=Object(o.a)(h.servInfo);e[I.index].flag=!1;var n={servInfo:e};I.elem.className=f()(u.a.userUnit,a.userUnitDnmc,u.a.userUnitShowed),b(h=n),e.filter((function(e){return void 0!==e})).every((function(e){return!1===e.flag}))&&p(u.a.wrapperUnlocked)}}),[I]);var F=function(e,a){O({index:e,elem:a})},j=Object(l.useState)(!1),R=Object(t.a)(j,2),W=R[0],k=R[1];return Object(l.useEffect)((function(){setTimeout((function(){k(!0)}),4e3)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:f()(u.a.friendsGeneral,a.friendsGeneralDnmc,W&&u.a.delay)},r.friendsListIsLoading?c.a.createElement("div",{className:u.a.loaderDiv_Friends},c.a.createElement("img",{className:u.a.loader,src:r.generalLDR_GIF,alt:"Err"})):r.errOnGettingFriends?c.a.createElement("div",{className:f()(u.a.Houston)},c.a.createElement("h2",null,"Houston, we've got a problem..."),c.a.createElement("h2",null,r.errOnGettingFriends),c.a.createElement("button",{className:"".concat(u.a.moreUsersShower," ").concat(a.pagBTNDnmc),onClick:function(){return T(E)}},"Try again")):r.friendsList.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:f()(u.a.friendsHeader,a.generalHeaderDnmc)},c.a.createElement("h2",{className:u.a.friendsHeaderH2},"Friends ",r.friendsCount?"(".concat(r.friendsList.length," / ").concat(r.friendsCount,")"):null)),c.a.createElement("div",{ref:w,className:f()(u.a.mapWrapper,a.mapWrapperDnmc,d)},r.friendsList.map((function(e,t,l){var s,m;return c.a.createElement("div",{className:u.a.userUnitContainer,key:e.id},c.a.createElement("div",{className:(null===(s=h.servInfo[t])||void 0===s?void 0:s.flag)?f()(u.a.userUnitHidden):f()(u.a.userUnit,a.userUnitDnmc,u.a.userUnitShowed)},c.a.createElement("div",{className:u.a.avaDiv},c.a.createElement(i.b,{to:"/profile/".concat(e.id)},c.a.createElement("img",{src:e.photos.large||r.defaultAvatar,alt:"err",className:"".concat(a.userAvaDnmc)}))),c.a.createElement("div",{className:u.a.nameStateBTNs},c.a.createElement("div",{className:u.a.userBlockInfo},c.a.createElement(i.b,{to:"/profile/".concat(e.id)},c.a.createElement("h2",{className:f()(u.a.userName,a.userNameDnmc)},e.name," ")),c.a.createElement("p",{className:"".concat(a.userNameDnmc)},e.status)),c.a.createElement("div",{className:u.a.followNWriteBTNS},c.a.createElement("button",{id:e.id,disabled:r.followingInProgress.some((function(a){return a===e.id})),className:f()(u.a.followBTN,e.error?a.followBTN_ERR_DNMC:a.followBTNDnmc),onClick:function(){return a=e.id,r=e.followed,t=e.error,void n.followThunkToggler(a,r,t);var a,r,t}},c.a.createElement("div",{className:u.a.followBTNContainer},c.a.createElement("div",{className:u.a.followBTNText},e.error?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:u.a.onFollowingErrBTN},e.error),c.a.createElement("p",{className:u.a.tryAgainBTN},"Try again!")):e.followed?"unFollow":"Follow"," "),c.a.createElement("div",{className:u.a.followBTNLoader}," ",r.followingInProgress.some((function(a){return a===e.id}))&&c.a.createElement("img",{src:r.BTN_FLW_GIF,alt:"Err"})," "))),c.a.createElement("button",{className:"".concat(u.a.followBTN," ").concat(a.followBTNDnmc),onClick:function(e){return function(e,a){var n;(null===w||void 0===w?void 0:w.current)&&e.target.parentElement.parentElement.parentElement.parentElement.getBoundingClientRect().top<=(null===w||void 0===w||null===(n=w.current)||void 0===n?void 0:n.getBoundingClientRect().top)&&e.target.parentElement.parentElement.parentElement.parentElement.scrollIntoView({behavior:"smooth"}),p(u.a.wrapperLocked);var r=Object(o.a)(h.servInfo);void 0===r[a]?r[a]={flag:!0}:!0===r[a].flag?r[a].flag=!1:!1===r[a].flag&&(r[a].flag=!0),r[a].closer=function(e,a){return F(e,a)},b(h={servInfo:r})}(e,t)}}," Write message")))),(null===(m=h.servInfo[t])||void 0===m?void 0:m.flag)&&c.a.createElement(N.b,{index:t,userEl:l[t],themes:a,sendMsg:n.sendMessageToUserThunk,closer:h.servInfo[t].closer,delayFlag:W}))}))),c.a.createElement("div",{className:f()(u.a.moreUserUnits,a.moreUserUnitsDnmc,W&&u.a.delay)},c.a.createElement("button",{disabled:r.moreFriendsIsLoading||r.friendsCount===r.friendsList.length,className:f()(u.a.moreUsersShower,r.errOnGettingFriends?a.followBTN_ERR_DNMC:a.pagBTNDnmc),onClick:function(){v(++E),T(E)}},c.a.createElement("div",{className:u.a.followBTNContainer},c.a.createElement("div",{className:u.a.followBTNText},r.errOnGettingFriends?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:u.a.onFollowingErrBTN},r.moreFriendsLoadErr," Err!"),c.a.createElement("p",{className:u.a.tryAgainBTN},"Try again!")):r.friendsCount===r.friendsList.length?"All list loaded!":" Show more!"," "),c.a.createElement("div",{className:u.a.followBTNLoader}," ",r.moreFriendsIsLoading&&c.a.createElement("img",{src:r.BTN_FLW_GIF,alt:"Err"})," "))))):c.a.createElement("div",{className:u.a.noFriendsWrapper},c.a.createElement("p",null,"No friends here so far..."))))},g=n(9);a.default=function(){var e=Object(s.d)(g.f),a=Object(s.d)(g.a),n=Object(s.c)(),o=Object(s.d)(g.k),i=Object(s.d)(g.i),m=function(e){n(o.getMyFriendsListThunkAC(e))},d={getMyFriendsListThunk:m,followThunkToggler:function(e,a,r){n(o.followThunkTogglerAC(e,a,r))},sendMessageToUserThunk:function(e,a,r,t){n(i.sendMessageToUserThunkAC(e,a,r,t,-1))}};Object(l.useEffect)((function(){return m(1),function(){n(o.unMountCleaner())}}),[]);var f=Object(l.useState)({friendsGeneralDnmc:"",generalHeaderDnmc:"",pagBTNDnmc:"",paginationSelectedDnmc:"",paginationDnmc:"",searchInputDnmc:"",userAvaDnmc:"",followBTNDnmc:"",followBTN_ERR_DNMC:"",userNameDnmc:"",mapWrapperDnmc:"",userUnitDnmc:"",userWriteModeDnmc:"",moreUserUnitsDnmc:""}),N=Object(t.a)(f,2),D=N[0],E=N[1];return Object(l.useEffect)((function(){switch(e){case"NIGHT":return E(Object(r.a)({},D,{friendsGeneralDnmc:u.a.friendsGeneralN,generalHeaderDnmc:u.a.generalHeaderN,pagBTNDnmc:u.a.pagBTN_N,paginationSelectedDnmc:u.a.paginationSelectedN,paginationDnmc:u.a.paginationN,searchInputDnmc:u.a.searchInputN,userAvaDnmc:u.a.userAvaN,followBTNDnmc:u.a.followBTN_N,followBTN_ERR_DNMC:u.a.followBTN_ERR_N,userNameDnmc:u.a.userNameN,mapWrapperDnmc:u.a.mapWrapperN,userUnitDnmc:u.a.userUnitN,userWriteModeDnmc:u.a.userWriteModeN,moreUserUnitsDnmc:u.a.moreUserUnitsN}));case"MORNING":return E(Object(r.a)({},D,{friendsGeneralDnmc:u.a.friendsGeneralM,generalHeaderDnmc:u.a.generalHeaderM,pagBTNDnmc:u.a.pagBTN_M,paginationSelectedDnmc:u.a.paginationSelectedM,paginationDnmc:u.a.paginationM,searchInputDnmc:u.a.searchInputM,userAvaDnmc:u.a.userAvaM,followBTNDnmc:u.a.followBTN_M,followBTN_ERR_DNMC:u.a.followBTN_ERR_M,userNameDnmc:u.a.userNameM,mapWrapperDnmc:u.a.mapWrapperM,userUnitDnmc:u.a.userUnitM,userWriteModeDnmc:u.a.userWriteModeM,moreUserUnitsDnmc:u.a.moreUserUnitsM}));case"DAY":return E(Object(r.a)({},D,{friendsGeneralDnmc:u.a.friendsGeneralD,generalHeaderDnmc:u.a.generalHeaderD,pagBTNDnmc:u.a.pagBTN_D,paginationSelectedDnmc:u.a.paginationSelectedD,paginationDnmc:u.a.paginationD,searchInputDnmc:u.a.searchInputD,userAvaDnmc:u.a.userAvaD,followBTNDnmc:u.a.followBTN_D,followBTN_ERR_DNMC:u.a.followBTN_ERR_D,userNameDnmc:u.a.userNameD,mapWrapperDnmc:u.a.mapWrapperD,userUnitDnmc:u.a.userUnitD,userWriteModeDnmc:u.a.userWriteModeD,moreUserUnitsDnmc:u.a.moreUserUnitsD}));case"EVENING":return E(Object(r.a)({},D,{friendsGeneralDnmc:u.a.friendsGeneralE,generalHeaderDnmc:u.a.generalHeaderE,pagBTNDnmc:u.a.pagBTN_E,paginationSelectedDnmc:u.a.paginationSelectedE,paginationDnmc:u.a.paginationE,searchInputDnmc:u.a.searchInputE,userAvaDnmc:u.a.userAvaE,followBTNDnmc:u.a.followBTN_E,followBTN_ERR_DNMC:u.a.followBTN_ERR_E,userNameDnmc:u.a.userNameE,mapWrapperDnmc:u.a.mapWrapperE,userUnitDnmc:u.a.userUnitE,userWriteModeDnmc:u.a.userWriteModeE,moreUserUnitsDnmc:u.a.moreUserUnitsE}))}}),[e]),c.a.createElement(p,{themes:D,palsFuncs:d,palsInfo:a})}}}]);
//# sourceMappingURL=10.93371527.chunk.js.map
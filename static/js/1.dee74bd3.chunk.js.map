{"version":3,"sources":["components/content/users/users.module.css","components/content/users/users.tsx"],"names":["module","exports","Users","themes","usersInfo","usersFuncs","delayFlag","useState","wrapperLocker","setWrapperLocker","portionNumber","setPortionNumber","searchMode","setSearchMode","userSearchName","setUserSearchName","history","useHistory","totalCount","pageSize","pagesAmount","Math","ceil","useEffect","parsedString","getUsersThunk","Paginator","leftPortionPageNumber","rightPortionPageNumber","portionCount","pagesArr","i","push","defaultStylesUsersSetter","e","Array","from","target","parentElement","children","forEach","el","className","cn","stl","userUnit","userUnitDnmc","userUnitShowed","setWriteMsgMode","writeMsgMode","servInfo","paginationBlockOutside","pagBTN","pagBTNDnmc","onClick","disabled","filter","p","map","key","currentPage","paginationSelected","paginationSelectedDnmc","pagination","paginationDnmc","mapWrapperRef","current","scrollTo","isLoading","getCertainUserThunk","setPageListener","page","setCurrentPageThunk","queryRequest","useLocation","search","queryString","searchModeCloseListener","pathname","setErrorToNull","React","createRef","window","onkeyup","length","newServInfo","undefined","flag","userUnitStlDefolter","index","elem","indexEl","setIndexEl","finalState","every","wrapperUnlocked","modalCloser","usersPage","userPageDnmc","delay","userInfo","generalHeader","generalHeaderDnmc","userHeader","searchBlock","initialValues","text","term","validate","values","errors","trim","onSubmit","userName","setSubmitting","handleChange","handleSubmit","isSubmitting","handleReset","onReset","name","type","value","onChange","placeholder","searchInput","searchInputDnmc","loaderDiv_Users","loader","src","generalLDR_GIF","alt","usersGettingError","userFindingError","Houston","moreUsersShower","userNotFound","initialUsersList","nobodyFound","userNotFoundGIF","ref","mapWrapper","mapWrapperDnmc","user","users","userUnitContainer","userUnitHidden","avaDiv","to","id","photos","large","defaultAvatar","userAvaDnmc","nameStateBTNs","userBlockInfo","userNameDnmc","status","followNWriteBTNS","followingInProgress","some","followBTN","error","followBTN_ERR_DNMC","followBTNDnmc","followThunkToggler","followed","followBTNContainer","followBTNText","onFollowingErrBTN","tryAgainBTN","followBTNLoader","BTN_FLW_GIF","getBoundingClientRect","top","scrollIntoView","behavior","wrapperLocked","closer","event","userIdTalkModeOn","WriterMode","userEl","sendMsg","sendMessageToUserThunk","moreUserUnits","moreUserUnitsDnmc","memo","formSubmitter","userId","textValue","actionKey","uuidv4","userWriteMode","userWriteModeDnmc","miniHeadWrapper","closeBTN","element","closeAction","textAreaWrapper","talkTextarea","as","onKeyDown","keyCode","shiftKey","keyCodeChecker"],"mappings":"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","file":"static/js/1.dee74bd3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"users_usersPage__1TRnN\",\"friendsGeneral\":\"users_friendsGeneral__2YWn8\",\"delay\":\"users_delay__25Jn4\",\"usersPageN\":\"users_usersPageN__1sGMA\",\"friendsGeneralN\":\"users_friendsGeneralN__23-i7\",\"usersPageM\":\"users_usersPageM__2KrhU\",\"friendsGeneralM\":\"users_friendsGeneralM__2pjcm\",\"usersPageD\":\"users_usersPageD__3oX5c\",\"friendsGeneralD\":\"users_friendsGeneralD___dcGa\",\"usersPageE\":\"users_usersPageE__26y5Q\",\"friendsGeneralE\":\"users_friendsGeneralE__3RfBh\",\"userInfo\":\"users_userInfo__2b8OJ\",\"generalHeader\":\"users_generalHeader__3_jJj\",\"generalHeaderN\":\"users_generalHeaderN__2IwNg\",\"generalHeaderM\":\"users_generalHeaderM__2hNeB\",\"generalHeaderD\":\"users_generalHeaderD__hMRUH\",\"generalHeaderE\":\"users_generalHeaderE__OEKfG\",\"userHeader\":\"users_userHeader__1DZLC\",\"friendsHeader\":\"users_friendsHeader__16AcC\",\"friendsHeaderH2\":\"users_friendsHeaderH2__THoJ5\",\"paginationBlockOutside\":\"users_paginationBlockOutside__1M4-p\",\"pagBTN\":\"users_pagBTN__1UzvR\",\"pagBTN_N\":\"users_pagBTN_N__1eDCF\",\"pagBTN_M\":\"users_pagBTN_M__J0wV_\",\"pagBTN_D\":\"users_pagBTN_D__KT8vl\",\"pagBTN_E\":\"users_pagBTN_E__OF8zB\",\"paginationSelected\":\"users_paginationSelected__3Y_E-\",\"pagination\":\"users_pagination__1BR_a\",\"paginationN\":\"users_paginationN__26V4e\",\"paginationSelectedN\":\"users_paginationSelectedN__1ZfJY\",\"paginationM\":\"users_paginationM__3OYMx\",\"paginationSelectedM\":\"users_paginationSelectedM__3Ub3h\",\"paginationD\":\"users_paginationD___5PRi\",\"paginationSelectedD\":\"users_paginationSelectedD__1D8Nd\",\"paginationE\":\"users_paginationE__14jsp\",\"paginationSelectedE\":\"users_paginationSelectedE__2DB9A\",\"searchBlock\":\"users_searchBlock__3k8kz\",\"searchInput\":\"users_searchInput__u5N6Y\",\"searchInputN\":\"users_searchInputN__2CK0h\",\"searchInputM\":\"users_searchInputM__1xf-3\",\"searchInputD\":\"users_searchInputD__1ZRDv\",\"searchInputE\":\"users_searchInputE___PWrH\",\"loaderDiv_Friends\":\"users_loaderDiv_Friends__yetbV\",\"loaderDiv_Users\":\"users_loaderDiv_Users__10u64\",\"Houston\":\"users_Houston__ao63t\",\"noFriendsWrapper\":\"users_noFriendsWrapper__2rGdl\",\"loader\":\"users_loader__b9zPb\",\"nobodyFound\":\"users_nobodyFound__38Mw6\",\"mapWrapper\":\"users_mapWrapper__HmTTB\",\"wrapperLocked\":\"users_wrapperLocked__3LtuH\",\"mapWrapperN\":\"users_mapWrapperN__3vllv\",\"mapWrapperM\":\"users_mapWrapperM__26sVJ\",\"mapWrapperD\":\"users_mapWrapperD__tQ_A6\",\"mapWrapperE\":\"users_mapWrapperE__1AS-l\",\"userUnitContainer\":\"users_userUnitContainer__11ZX2\",\"userUnit\":\"users_userUnit__3hmwg\",\"userUnitHidden\":\"users_userUnitHidden__NbDmc\",\"userUnitShowed\":\"users_userUnitShowed__17KfH\",\"userUnitN\":\"users_userUnitN__1BPPu\",\"userUnitM\":\"users_userUnitM__-e-VM\",\"userUnitD\":\"users_userUnitD__3zLjv\",\"userUnitE\":\"users_userUnitE__3VGmP\",\"avaDiv\":\"users_avaDiv__27BGQ\",\"userAvaN\":\"users_userAvaN__1u4e7\",\"userAvaM\":\"users_userAvaM__1ELIJ\",\"userAvaD\":\"users_userAvaD__2bV3h\",\"userAvaE\":\"users_userAvaE__2U0Fq\",\"nameStateBTNs\":\"users_nameStateBTNs__1gWX-\",\"followBTN\":\"users_followBTN__33A7X\",\"followBTNContainer\":\"users_followBTNContainer__3Mauo\",\"followBTNText\":\"users_followBTNText__1d9eK\",\"onFollowingErrBTN\":\"users_onFollowingErrBTN__37XJD\",\"tryAgainBTN\":\"users_tryAgainBTN__vWrzf\",\"followBTNLoader\":\"users_followBTNLoader__2jkXm\",\"followBTN_N\":\"users_followBTN_N__2QjMN\",\"followBTN_M\":\"users_followBTN_M__3wHf7\",\"followBTN_D\":\"users_followBTN_D__3czJg\",\"followBTN_E\":\"users_followBTN_E__14aXG\",\"followBTN_ERR_N\":\"users_followBTN_ERR_N__2oKFz\",\"followBTN_ERR_M\":\"users_followBTN_ERR_M__3PIbC\",\"followBTN_ERR_D\":\"users_followBTN_ERR_D__2IBW4\",\"followBTN_ERR_E\":\"users_followBTN_ERR_E__D4pz2\",\"msgSender\":\"users_msgSender__3zlb6\",\"userWriteMode\":\"users_userWriteMode__5dooL\",\"userWriteModeN\":\"users_userWriteModeN__2sd_o\",\"userWriteModeM\":\"users_userWriteModeM__1C8ak\",\"userWriteModeD\":\"users_userWriteModeD__3wt-r\",\"userWriteModeE\":\"users_userWriteModeE__2SgiI\",\"miniHeadWrapper\":\"users_miniHeadWrapper__3IJBw\",\"closeBTN\":\"users_closeBTN__2gLRt\",\"textAreaWrapper\":\"users_textAreaWrapper__wGVgw\",\"talkTextarea\":\"users_talkTextarea__3rbPc\",\"userBlockInfo\":\"users_userBlockInfo__2zEuy\",\"userName\":\"users_userName__12Gwj\",\"userNameN\":\"users_userNameN__gwi24\",\"userNameM\":\"users_userNameM__jIGks\",\"userNameD\":\"users_userNameD__33Y1t\",\"userNameE\":\"users_userNameE__1hotn\",\"followNWriteBTNS\":\"users_followNWriteBTNS__vwxR5\",\"moreUserUnits\":\"users_moreUserUnits__3nfJi\",\"moreUserUnitsN\":\"users_moreUserUnitsN__Nycjg\",\"moreUserUnitsM\":\"users_moreUserUnitsM__2cxdn\",\"moreUserUnitsD\":\"users_moreUserUnitsD__3qX4e\",\"moreUserUnitsE\":\"users_moreUserUnitsE__10CXL\",\"moreUsersShower\":\"users_moreUsersShower__3cdL5\"};","import React, { useState, useEffect, useRef, Children, } from \"react\";\r\nimport stl from './users.module.css';\r\nimport { NavLink, useHistory, useLocation } from 'react-router-dom';\r\nimport { Field, Formik } from 'formik';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { UsersThemes_Type, usersActions_Type } from \"./usersContainer\";\r\nimport { InitialUsersInfo_Type } from \"../../../redux/usersReducer\";\r\nimport { UsersThemesBGR_Type } from \"../../../redux/backGroundSetter\";\r\nimport * as queryString from 'querystring';\r\nimport cn from 'classnames/bind';\r\nimport { UsersArr } from \"../../../redux/app\";\r\nimport { PalsThemes_Type } from \"../friends/friendsContainer\";\r\n// import UnAuthorised                       from \"../unAuthorised/unAuthorised\";\r\n\r\n\r\ntype UsersProps_Type = {\r\n  themes: UsersThemes_Type\r\n  usersInfo: InitialUsersInfo_Type & UsersThemesBGR_Type\r\n  usersFuncs: usersActions_Type\r\n  delayFlag: boolean\r\n}\r\n\r\nexport type ModalMsgs_Type = { servInfo: { flag?: boolean, closer?: (i: number, e: any) => void }[] }\r\n\r\nexport let Users: React.FC<UsersProps_Type> = ({ themes, usersInfo, usersFuncs, delayFlag }) => {\r\n\r\n  type Error_Type = { text?: string }\r\n  type Value_Type = { text: string }\r\n\r\n  let [wrapperLocker, setWrapperLocker] = useState('');\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let [searchMode, setSearchMode] = useState(false);\r\n  let [userSearchName, setUserSearchName] = useState<string>('')\r\n\r\n  let history = useHistory();\r\n\r\n  let { totalCount, pageSize } = usersInfo;\r\n  let pagesAmount = Math.ceil(totalCount / pageSize)\r\n\r\n  useEffect(() => {\r\n    if (parsedString['term'] && parsedString['term'] !== '') { setSearchMode(true); setUserSearchName(parsedString['term'] as string) }\r\n    if (parsedString['?page'] && totalCount && +parsedString['?page'] > pagesAmount) {\r\n      usersFuncs.getUsersThunk(pageSize, pagesAmount); setPortionNumber(Math.ceil(totalCount / 1000))\r\n    } else if (parsedString['?page']) { setPortionNumber(Math.ceil(+parsedString['?page'] / 10)) }\r\n  }, [totalCount])\r\n\r\n  let Paginator = () => {\r\n    let pageStep = 10;\r\n    let leftPortionPageNumber = (portionNumber - 1) * pageStep + 1\r\n    let rightPortionPageNumber = portionNumber * pageStep;\r\n    let portionCount = Math.ceil(pagesAmount / pageStep)\r\n    let pagesArr = [];\r\n    for (let i = 1; i <= pagesAmount; i++) { pagesArr.push(i) }\r\n\r\n    let defaultStylesUsersSetter = (e: any) => {\r\n      let userUnitStlArr: HTMLDivElement[] = Array.from(e.target.parentElement.parentElement.parentElement.children[1]?.children)\r\n      userUnitStlArr.forEach((el) => el.children[0].className = cn(stl.userUnit, themes.userUnitDnmc, stl.userUnitShowed))\r\n      setWriteMsgMode(writeMsgMode = { servInfo: [] });\r\n\r\n    }\r\n    return !!pagesAmount ? <div className={stl.paginationBlockOutside} >\r\n      <button className={`${stl.pagBTN} ${themes.pagBTNDnmc}`} onClick={() => setPortionNumber(portionNumber - 1)}\r\n        disabled={portionNumber === 1}> &#171; {pageStep} </button>\r\n      {pagesArr\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map(p => {\r\n          return <span key={p} className={usersInfo.currentPage === p ? `${stl.paginationSelected} ${themes.paginationSelectedDnmc}` :\r\n            `${stl.pagination} ${themes.paginationDnmc}`}\r\n            onClick={(e) => {\r\n              mapWrapperRef?.current?.scrollTo(0, 0)\r\n              if (!usersInfo.isLoading) {\r\n                if (searchMode && usersInfo.currentPage !== p) { usersFuncs.getCertainUserThunk(pageSize, userSearchName, p); defaultStylesUsersSetter(e) }\r\n                else { setPageListener(pageSize, p); defaultStylesUsersSetter(e) }\r\n              }\r\n            }}\r\n          >{p}\r\n          </span>\r\n        })}\r\n      <button className={`${stl.pagBTN} ${themes.pagBTNDnmc}`} onClick={() => setPortionNumber(portionNumber + 1)}\r\n        disabled={\r\n          // pageStep > pagesAmount ||\r\n          portionNumber > portionCount - 1\r\n        }> {pageStep} &#187;</button>\r\n    </div> : null\r\n  };\r\n\r\n  let setPageListener = (pageSize: number, page: number) => {\r\n    usersFuncs.setCurrentPageThunk(pageSize, page);\r\n    wrapperLocker && setWrapperLocker('');\r\n  };\r\n\r\n  let queryRequest = useLocation().search;\r\n  let parsedString = queryString.parse(queryRequest);\r\n\r\n\r\n  let friendsSeekerSubmitter = (userName: Value_Type, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n    setSearchMode(true)\r\n    setUserSearchName(userName.text)\r\n    history.push({ pathname: 'users', search: `?page=${usersInfo.currentPage}&term=${userName.text}` })\r\n    usersFuncs.getCertainUserThunk(pageSize, userName.text.trim(), 1)\r\n    setSubmitting(false);\r\n  }\r\n\r\n  let searchModeCloseListener = () => {\r\n    if (searchMode) {\r\n      usersFuncs.setCurrentPageThunk(50, 1); setSearchMode(false);\r\n      history.push({ pathname: 'users', search: `?page=${usersInfo.currentPage}` })\r\n    } usersFuncs.setErrorToNull();\r\n  };\r\n\r\n  let validator = (values: Value_Type) => { let errors: Error_Type = {}; if (!values.text.trim()) { values.text = ''; errors.text = 'Required' } return errors }\r\n\r\n\r\n  let [writeMsgMode, setWriteMsgMode] = useState<ModalMsgs_Type>({ servInfo: [] })\r\n\r\n  let userIdTalkModeOn = (e: any, i: number,) => {\r\n    if (mapWrapperRef?.current && e.target.parentElement.parentElement.parentElement.parentElement.getBoundingClientRect().top <= mapWrapperRef?.current?.getBoundingClientRect().top) {\r\n      e.target.parentElement.parentElement.parentElement.parentElement.scrollIntoView({ behavior: \"smooth\" }) //плавный автоСкролл если элемент если он вызе вьюпорта\r\n    }\r\n    setWrapperLocker(stl.wrapperLocked);\r\n\r\n    let newServInfo = [...writeMsgMode.servInfo]\r\n\r\n    if (newServInfo[i] === undefined) { newServInfo[i] = { flag: true } }\r\n    else if (newServInfo[i].flag === true) { newServInfo[i].flag = false; }\r\n    else if (newServInfo[i].flag === false) { newServInfo[i].flag = true; }\r\n    newServInfo[i].closer = (index: number, event: any) => modalCloser(index, event)\r\n    let finalState = { servInfo: newServInfo }\r\n    setWriteMsgMode(writeMsgMode = finalState)\r\n  }\r\n\r\n  let mapWrapperRef = React.createRef<HTMLDivElement>();\r\n\r\n  let userUnitStlDefolter = () => {\r\n    if (writeMsgMode.servInfo.length) {\r\n      let newServInfo = [...writeMsgMode.servInfo]\r\n      newServInfo.forEach(el => { if (el !== undefined) el.flag = false })\r\n      let finalState = { servInfo: newServInfo }\r\n      setWriteMsgMode(writeMsgMode = finalState); setWrapperLocker('');\r\n    }\r\n  }\r\n\r\n  window.onkeyup = (e: KeyboardEvent) => { e.key === 'Escape' && userUnitStlDefolter() }\r\n\r\n  type indexEl_Type = { index: number, elem: any }  // хз какой тип элемента должен быть\r\n  let [indexEl, setIndexEl] = useState<indexEl_Type>({ index: -1, elem: '' })\r\n\r\n  useEffect(() => {\r\n    if (indexEl.index >= 0) {\r\n      let newServInfo = [...writeMsgMode.servInfo]\r\n      newServInfo[indexEl.index].flag = false\r\n      let finalState = { servInfo: newServInfo }\r\n      indexEl.elem.className = cn(stl.userUnit, themes.userUnitDnmc, stl.userUnitShowed)\r\n      setWriteMsgMode(writeMsgMode = finalState)\r\n      if (newServInfo.filter(el => el !== undefined).every(el => el.flag === false)) setWrapperLocker(stl.wrapperUnlocked);\r\n    }\r\n  }, [indexEl])\r\n\r\n  let modalCloser = (i: number, e: any) => { setIndexEl({ index: i, elem: e }) }\r\n\r\n\r\n\r\n  return <>\r\n    <div className={cn(stl.usersPage, themes.userPageDnmc, delayFlag && stl.delay)} >\r\n      <div className={stl.userInfo}>\r\n        <div className={cn(stl.generalHeader, themes.generalHeaderDnmc, delayFlag && stl.delay)}>\r\n          <h2 className={stl.userHeader}>Users</h2>\r\n          <Paginator />\r\n          <div className={stl.searchBlock} >\r\n            <Formik initialValues={{ text: parsedString.term as string || '' }} validate={validator} onSubmit={friendsSeekerSubmitter}>\r\n              {({ values, errors, handleChange, handleSubmit, isSubmitting, handleReset }) => (\r\n                <form onSubmit={handleSubmit} onReset={handleReset}>\r\n                  <Field name=\"text\" type=\"text\" value={values.text} onChange={handleChange} placeholder={errors.text}\r\n                    className={cn(stl.searchInput, themes.searchInputDnmc, delayFlag && stl.delay)} />\r\n                  <button type=\"submit\" disabled={isSubmitting} className={cn(stl.pagBTN, themes.pagBTNDnmc)} >Find!</button>\r\n                  <button className={cn(stl.pagBTN, themes.pagBTNDnmc)} type=\"reset\" onClick={searchModeCloseListener} >X</button>\r\n                </form>\r\n              )}\r\n            </Formik>\r\n          </div>\r\n        </div>\r\n        {usersInfo.isLoading ?                                                                   // список юзеров грузится?\r\n          <div className={stl.loaderDiv_Users}>\r\n            <img className={stl.loader} src={usersInfo.generalLDR_GIF} alt=\"Err\" />\r\n          </div> :\r\n          usersInfo.usersGettingError || usersInfo.userFindingError ?                            // ошибка при поиске юзеров?\r\n            <div className={stl.Houston}>\r\n              <h2>Houston, we've got a problem...</h2>\r\n              <h2>{usersInfo.usersGettingError || usersInfo.userFindingError}</h2>\r\n              {usersInfo.usersGettingError && <button\r\n                className={cn(stl.moreUsersShower, themes.pagBTNDnmc)}\r\n                onClick={() => { usersFuncs.setErrorToNull(); setPageListener(usersInfo.pageSize, usersInfo.currentPage); }}\r\n              >Try again</button>}\r\n            </div>\r\n            :\r\n            usersInfo.userNotFound && !usersInfo.initialUsersList.length ?                       // ничего не найдено при кастомном поиске?\r\n              <div className={stl.nobodyFound}>\r\n                <img src={usersInfo.userNotFoundGIF} alt=\"Err\" />\r\n                <h2>{usersInfo.userNotFound} =(</h2>\r\n              </div> :\r\n              <div ref={mapWrapperRef} className={cn(stl.mapWrapper, themes.mapWrapperDnmc, wrapperLocker, delayFlag && stl.delay)}>\r\n                {usersInfo?.initialUsersList\r\n                  .map((user, i, users) =>\r\n                    <div className={stl.userUnitContainer} key={i}>\r\n                      <div className={!writeMsgMode.servInfo[i]?.flag ? cn(stl.userUnit, themes.userUnitDnmc, stl.userUnitShowed) :\r\n                        cn(stl.userUnitHidden)\r\n                      } >\r\n                        <div className={stl.avaDiv}>\r\n                          <NavLink to={`/profile/${user.id}`}>\r\n                            <img src={user.photos.large || usersInfo.defaultAvatar} alt='err'\r\n                              className={`${themes.userAvaDnmc}`} />\r\n                          </NavLink>\r\n                        </div>\r\n                        <div className={stl.nameStateBTNs}>\r\n                          <div className={stl.userBlockInfo}>\r\n                            <NavLink to={`/profile/${user.id}`}>\r\n                              <h2 className={cn(stl.userName, themes.userNameDnmc)}>{user.name} </h2>\r\n                            </NavLink>\r\n                            <p>{user.status}</p>\r\n                          </div>\r\n                          <div className={stl.followNWriteBTNS}>\r\n\r\n                            <button\r\n                              id={user.id}\r\n                              disabled={usersInfo.followingInProgress.some(id => id === user.id)}\r\n                              className={cn(stl.followBTN, user.error ? themes.followBTN_ERR_DNMC : themes.followBTNDnmc)}\r\n                              onClick={() => usersFuncs.followThunkToggler(user.id, user.followed, user.error)}\r\n                            >\r\n                              <div className={stl.followBTNContainer}>\r\n                                <div className={stl.followBTNText}>\r\n                                  {user.error ?\r\n                                    <>\r\n                                      <p className={stl.onFollowingErrBTN}>{user.error}</p>\r\n                                      <p className={stl.tryAgainBTN}>Try again!</p>\r\n                                    </>\r\n                                    :\r\n                                    user.followed ? 'unFollow' : 'Follow'} </div>\r\n                                <div className={stl.followBTNLoader}> {usersInfo.followingInProgress.some(id => id === user.id) && <img src={usersInfo.BTN_FLW_GIF} alt=\"Err\" />} </div>\r\n                              </div>\r\n                            </button>\r\n                            <button className={cn(stl.followBTN, themes.followBTNDnmc)}\r\n                              onClick={(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => { userIdTalkModeOn(e, i) }}\r\n                            >Write message </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      {writeMsgMode.servInfo[i]?.flag &&\r\n                        <WriterMode\r\n                          index={i}\r\n                          userEl={users[i]}\r\n                          themes={themes}\r\n                          sendMsg={usersFuncs.sendMessageToUserThunk}\r\n                          closer={writeMsgMode.servInfo[i].closer}\r\n                          delayFlag={delayFlag} />\r\n                      }\r\n                    </div >\r\n                  )}\r\n              </div>\r\n        }\r\n      </div>\r\n      <div className={cn(stl.moreUserUnits, themes.moreUserUnitsDnmc)} />\r\n    </div>\r\n  </>\r\n}\r\n\r\ntype WriterMode_Type = {\r\n  themes: UsersThemes_Type | PalsThemes_Type,\r\n  userEl: UsersArr,\r\n  sendMsg: usersActions_Type['sendMessageToUserThunk'],\r\n  index: number,\r\n  delayFlag: boolean,\r\n  closer: ((i: number, el: any) => void) | undefined\r\n\r\n}\r\n\r\nexport let WriterMode = React.memo(({ themes, userEl, sendMsg, index, closer, delayFlag, }: WriterMode_Type) => {  // Прикруитть нормальную типизацию\r\n\r\n  type Error_Type = { text?: string }\r\n  type Value_Type = { text: string }\r\n  let validator = (values: Value_Type) => { const errors: Error_Type = {}; if (!values.text) { errors.text = 'Required' } return errors }\r\n\r\n  let formSubmitter = (userId: number, textValue: Value_Type, userName: string, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n    let actionKey: string = uuidv4()\r\n    sendMsg(userId, textValue.text, actionKey, userName);\r\n    textValue.text = ''; setSubmitting(false);\r\n  }\r\n  let keyCodeChecker = (e: KeyboardEvent, userId: number, values: Value_Type, userName: string, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n    if (e.keyCode == 13 && e.shiftKey) { return } // для переноса строки =)\r\n    else if (e.keyCode === 13) { formSubmitter(userId, values, userName, { setSubmitting }) }\r\n  }\r\n\r\n  let closeAction = (index: number, elem: any) => {\r\n    let element = elem?.parentElement?.parentElement?.parentElement?.parentElement?.children[index]?.children[0]\r\n    if (closer) closer(index, element)\r\n  }\r\n\r\n  return <div className={cn(stl.userWriteMode, themes.userWriteModeDnmc, stl.userUnitShowed, delayFlag && stl.delay)}>\r\n\r\n    <div className={stl.miniHeadWrapper}>\r\n      <h2 className={cn(stl.userName, themes.userNameDnmc)}>{userEl.name}</h2>\r\n      <NavLink to={`/dialogs/${userEl.id}`} >\r\n        <button className={cn(stl.followBTN, themes.followBTNDnmc)}>\r\n          Go to chat\r\n        </button>\r\n      </NavLink>\r\n\r\n      <button className={cn(stl.closeBTN, stl.followBTN, themes.followBTNDnmc)}\r\n        onClick={(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => { closeAction(index, e.target) }}\r\n      >X</button>\r\n    </div>\r\n    <div className={stl.textAreaWrapper}>\r\n      <Formik initialValues={{ text: '' }} validate={validator}\r\n        onSubmit={(values, { setSubmitting }) => {\r\n          formSubmitter(userEl.id, values, userEl.name, { setSubmitting }); values.text = ''; setSubmitting(false);\r\n        }}>\r\n        {({ values, errors, handleChange, handleSubmit, isSubmitting, setSubmitting }) => (\r\n          <form onSubmit={handleSubmit}>\r\n            <Field name=\"text\" className={stl.talkTextarea} as='textarea'\r\n              onChange={handleChange} value={values.text} placeholder={errors.text}\r\n              onKeyDown={(e: KeyboardEvent) => (keyCodeChecker(e, userEl.id, values, userEl.name, { setSubmitting }))}\r\n            />\r\n            <button type=\"submit\" disabled={isSubmitting} className={cn(stl.followBTN, themes.followBTNDnmc)}\r\n            > Send Msg </button>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  </div>\r\n\r\n})\r\n"],"sourceRoot":""}
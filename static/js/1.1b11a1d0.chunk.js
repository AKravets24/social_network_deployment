(this.webpackJsonpsocial_network_deployment=this.webpackJsonpsocial_network_deployment||[]).push([[1],{159:function(e,a,r){e.exports={usersPage:"users_usersPage__1T-uz",friendsGeneral:"users_friendsGeneral__p7kEY",delay:"users_delay__1eCa-",usersPageN:"users_usersPageN__3y1Gr",friendsGeneralN:"users_friendsGeneralN__1O66L",usersPageM:"users_usersPageM__35bJl",friendsGeneralM:"users_friendsGeneralM__146Na",usersPageD:"users_usersPageD__3_DpZ",friendsGeneralD:"users_friendsGeneralD__2bb8J",usersPageE:"users_usersPageE__1hZJC",friendsGeneralE:"users_friendsGeneralE__1lsqM",userInfo:"users_userInfo__nTKRM",generalHeader:"users_generalHeader__2EAAF",generalHeaderN:"users_generalHeaderN__AfhOw",generalHeaderM:"users_generalHeaderM__30TfS",generalHeaderD:"users_generalHeaderD__1ybqE",generalHeaderE:"users_generalHeaderE__2sgIP",userHeader:"users_userHeader__5nrtQ",friendsHeader:"users_friendsHeader__14hUE",friendsHeaderH2:"users_friendsHeaderH2__3c1qW",paginationBlockOutside:"users_paginationBlockOutside__3pb0e",pagBTN:"users_pagBTN__LQWN7",pagBTN_N:"users_pagBTN_N__1LOMd",pagBTN_M:"users_pagBTN_M__3tNnm",pagBTN_D:"users_pagBTN_D__33g5t",pagBTN_E:"users_pagBTN_E__3xSlI",paginationSelected:"users_paginationSelected__1XVeQ",pagination:"users_pagination__1Xuxz",paginationN:"users_paginationN__3clCx",paginationSelectedN:"users_paginationSelectedN__2G2uu",paginationM:"users_paginationM__1jn8b",paginationSelectedM:"users_paginationSelectedM__IgiIl",paginationD:"users_paginationD__T73ff",paginationSelectedD:"users_paginationSelectedD__31tRI",paginationE:"users_paginationE__1sg-B",paginationSelectedE:"users_paginationSelectedE__2Fho5",searchBlock:"users_searchBlock__9GuJX",searchInput:"users_searchInput__3Hg5i",searchInputN:"users_searchInputN__10vnd",searchInputM:"users_searchInputM__2q0NB",searchInputD:"users_searchInputD__r_ESs",searchInputE:"users_searchInputE__3sNVl",loaderDiv_Friends:"users_loaderDiv_Friends__1kOK3",loaderDiv_Users:"users_loaderDiv_Users__1tD76",Houston:"users_Houston__Y-IiQ",noFriendsWrapper:"users_noFriendsWrapper__15hKl",loader:"users_loader__2MKni",nobodyFound:"users_nobodyFound__z0fvD",mapWrapper:"users_mapWrapper__3T9bs",wrapperLocked:"users_wrapperLocked__3kGvH",mapWrapperN:"users_mapWrapperN__2TUFV",mapWrapperM:"users_mapWrapperM__-pYHs",mapWrapperD:"users_mapWrapperD__AoqSj",mapWrapperE:"users_mapWrapperE__289go",userUnitContainer:"users_userUnitContainer__3JfBf",userUnit:"users_userUnit__K72td",userUnitHidden:"users_userUnitHidden__1KqZa",userUnitShowed:"users_userUnitShowed__2ZlYq",userUnitN:"users_userUnitN__3FJw9",userUnitM:"users_userUnitM__1opLS",userUnitD:"users_userUnitD__2gsuu",userUnitE:"users_userUnitE__1J_K0",avaDiv:"users_avaDiv__3X1d3",userAvaN:"users_userAvaN__1GqIS",userAvaM:"users_userAvaM__1LhP9",userAvaD:"users_userAvaD__3cQjF",userAvaE:"users_userAvaE__35flG",nameStateBTNs:"users_nameStateBTNs__3eOsq",followBTN:"users_followBTN__3Ze6O",followBTNContainer:"users_followBTNContainer__1oJqv",followBTNText:"users_followBTNText__edaNN",onFollowingErrBTN:"users_onFollowingErrBTN__2FEAE",tryAgainBTN:"users_tryAgainBTN__BuvYN",followBTNLoader:"users_followBTNLoader__IfnD1",followBTN_N:"users_followBTN_N__2ORdb",followBTN_M:"users_followBTN_M__20anx",followBTN_D:"users_followBTN_D__1v_vY",followBTN_E:"users_followBTN_E__1WIIB",followBTN_ERR_N:"users_followBTN_ERR_N__9J4dz",followBTN_ERR_M:"users_followBTN_ERR_M__uZoER",followBTN_ERR_D:"users_followBTN_ERR_D__3rgzO",followBTN_ERR_E:"users_followBTN_ERR_E__3Qp1i",msgSender:"users_msgSender__lmMqr",userWriteMode:"users_userWriteMode__2NJSE",userWriteModeN:"users_userWriteModeN__2KdMO",userWriteModeM:"users_userWriteModeM__2AWE8",userWriteModeD:"users_userWriteModeD__3lXex",userWriteModeE:"users_userWriteModeE__3GHq2",miniHeadWrapper:"users_miniHeadWrapper__YKjDU",closeBTN:"users_closeBTN__241Js",textAreaWrapper:"users_textAreaWrapper__h96FV",talkTextarea:"users_talkTextarea__1rwSR",userBlockInfo:"users_userBlockInfo__3_oqn",userName:"users_userName__3j-xg",userNameN:"users_userNameN__1N66i",userNameM:"users_userNameM__2BI6S",userNameD:"users_userNameD__slZAc",userNameE:"users_userNameE__H5tu_",followNWriteBTNS:"users_followNWriteBTNS__8Wxup",moreUserUnits:"users_moreUserUnits__3cegO",moreUserUnitsN:"users_moreUserUnitsN__1Q-ZA",moreUserUnitsM:"users_moreUserUnitsM___a-6h",moreUserUnitsD:"users_moreUserUnitsD__19Qdm",moreUserUnitsE:"users_moreUserUnitsE__c2foF",moreUsersShower:"users_moreUsersShower__1ey_C"}},163:function(e,a,r){"use strict";r.d(a,"a",(function(){return g})),r.d(a,"b",(function(){return f}));var s=r(7),t=r(19),n=r(0),l=r.n(n),o=r(159),u=r.n(o),i=r(10),_=r(17),c=r(158),m=r(156),d=r(48),p=r(14),N=r.n(p),g=function(e){var a=e.themes,r=e.usersInfo,o=e.usersFuncs,m=e.delayFlag,p=Object(n.useState)(""),g=Object(t.a)(p,2),E=g[0],v=g[1],T=Object(n.useState)(1),B=Object(t.a)(T,2),h=B[0],w=B[1],b=Object(n.useState)(!1),D=Object(t.a)(b,2),U=D[0],S=D[1],M=Object(n.useState)(""),I=Object(t.a)(M,2),k=I[0],x=I[1],W=Object(i.f)(),y=r.totalCount,F=r.pageSize,H=Math.ceil(y/F);Object(n.useEffect)((function(){j.term&&""!==j.term&&(S(!0),x(j.term)),j["?page"]&&y&&+j["?page"]>H?(o.getUsersThunk(F,H),w(Math.ceil(y/1e3))):j["?page"]&&w(Math.ceil(+j["?page"]/10))}),[y]);var O=function(){for(var e=10*(h-1)+1,s=10*h,t=Math.ceil(H/10),n=[],i=1;i<=H;i++)n.push(i);var _=function(e){var r;Array.from(null===(r=e.target.parentElement.parentElement.parentElement.children[1])||void 0===r?void 0:r.children).forEach((function(e){return e.children[0].className=N()(u.a.userUnit,a.userUnitDnmc,u.a.userUnitShowed)})),q(L={servInfo:[]})};return H?l.a.createElement("div",{className:u.a.paginationBlockOutside},l.a.createElement("button",{className:"".concat(u.a.pagBTN," ").concat(a.pagBTNDnmc),onClick:function(){return w(h-1)},disabled:1===h}," \xab ",10," "),n.filter((function(a){return a>=e&&a<=s})).map((function(e){return l.a.createElement("span",{key:e,className:r.currentPage===e?"".concat(u.a.paginationSelected," ").concat(a.paginationSelectedDnmc):"".concat(u.a.pagination," ").concat(a.paginationDnmc),onClick:function(a){var s;null===J||void 0===J||null===(s=J.current)||void 0===s||s.scrollTo(0,0),r.isLoading||(U&&r.currentPage!==e?(o.getCertainUserThunk(F,k,e),_(a)):(C(F,e),_(a)))}},e)})),l.a.createElement("button",{className:"".concat(u.a.pagBTN," ").concat(a.pagBTNDnmc),onClick:function(){return w(h+1)},disabled:h>t-1}," ",10," \xbb")):null},C=function(e,a){o.setCurrentPageThunk(e,a),E&&v("")},R=Object(i.g)().search,j=d.parse(R),A=function(){U&&(o.setCurrentPageThunk(50,1),S(!1),W.push({pathname:"users",search:"?page=".concat(r.currentPage)})),o.setErrorToNull()},G=Object(n.useState)({servInfo:[]}),P=Object(t.a)(G,2),L=P[0],q=P[1],J=l.a.createRef();window.onkeyup=function(e){"Escape"===e.key&&function(){if(L.servInfo.length){var e=Object(s.a)(L.servInfo);e.forEach((function(e){void 0!==e&&(e.flag=!1)})),q(L={servInfo:e}),v("")}}()};var K=Object(n.useState)({index:-1,elem:""}),Q=Object(t.a)(K,2),Z=Q[0],z=Q[1];Object(n.useEffect)((function(){if(Z.index>=0){var e=Object(s.a)(L.servInfo);e[Z.index].flag=!1;var r={servInfo:e};Z.elem.className=N()(u.a.userUnit,a.userUnitDnmc,u.a.userUnitShowed),q(L=r),e.filter((function(e){return void 0!==e})).every((function(e){return!1===e.flag}))&&v(u.a.wrapperUnlocked)}}),[Z]);var V=function(e,a){z({index:e,elem:a})};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:N()(u.a.usersPage,a.userPageDnmc,m&&u.a.delay)},l.a.createElement("div",{className:u.a.userInfo},l.a.createElement("div",{className:N()(u.a.generalHeader,a.generalHeaderDnmc,m&&u.a.delay)},l.a.createElement("h2",{className:u.a.userHeader},"Users"),l.a.createElement(O,null),l.a.createElement("div",{className:u.a.searchBlock},l.a.createElement(c.b,{initialValues:{text:j.term||""},validate:function(e){var a={};return e.text.trim()||(e.text="",a.text="Required"),a},onSubmit:function(e,a){var s=a.setSubmitting;S(!0),x(e.text),W.push({pathname:"users",search:"?page=".concat(r.currentPage,"&term=").concat(e.text)}),o.getCertainUserThunk(F,e.text.trim(),1),s(!1)}},(function(e){var r=e.values,s=e.errors,t=e.handleChange,n=e.handleSubmit,o=e.isSubmitting,i=e.handleReset;return l.a.createElement("form",{onSubmit:n,onReset:i},l.a.createElement(c.a,{name:"text",type:"text",value:r.text,onChange:t,placeholder:s.text,className:N()(u.a.searchInput,a.searchInputDnmc,m&&u.a.delay)}),l.a.createElement("button",{type:"submit",disabled:o,className:N()(u.a.pagBTN,a.pagBTNDnmc)},"Find!"),l.a.createElement("button",{className:N()(u.a.pagBTN,a.pagBTNDnmc),type:"reset",onClick:A},"X"))})))),r.isLoading?l.a.createElement("div",{className:u.a.loaderDiv_Users},l.a.createElement("img",{className:u.a.loader,src:r.generalLDR_GIF,alt:"Err"})):r.usersGettingError||r.userFindingError?l.a.createElement("div",{className:u.a.Houston},l.a.createElement("h2",null,"Houston, we've got a problem..."),l.a.createElement("h2",null,r.usersGettingError||r.userFindingError),r.usersGettingError&&l.a.createElement("button",{className:N()(u.a.moreUsersShower,a.pagBTNDnmc),onClick:function(){o.setErrorToNull(),C(r.pageSize,r.currentPage)}},"Try again")):r.userNotFound&&!r.initialUsersList.length?l.a.createElement("div",{className:u.a.nobodyFound},l.a.createElement("img",{src:r.userNotFoundGIF,alt:"Err"}),l.a.createElement("h2",null,r.userNotFound," =(")):l.a.createElement("div",{ref:J,className:N()(u.a.mapWrapper,a.mapWrapperDnmc,E,m&&u.a.delay)},null===r||void 0===r?void 0:r.initialUsersList.map((function(e,t,n){var i,c;return l.a.createElement("div",{className:u.a.userUnitContainer,key:t},l.a.createElement("div",{className:(null===(i=L.servInfo[t])||void 0===i?void 0:i.flag)?N()(u.a.userUnitHidden):N()(u.a.userUnit,a.userUnitDnmc,u.a.userUnitShowed)},l.a.createElement("div",{className:u.a.avaDiv},l.a.createElement(_.b,{to:"/profile/".concat(e.id)},l.a.createElement("img",{src:e.photos.large||r.defaultAvatar,alt:"err",className:"".concat(a.userAvaDnmc)}))),l.a.createElement("div",{className:u.a.nameStateBTNs},l.a.createElement("div",{className:u.a.userBlockInfo},l.a.createElement(_.b,{to:"/profile/".concat(e.id)},l.a.createElement("h2",{className:N()(u.a.userName,a.userNameDnmc)},e.name," ")),l.a.createElement("p",null,e.status)),l.a.createElement("div",{className:u.a.followNWriteBTNS},l.a.createElement("button",{id:e.id,disabled:r.followingInProgress.some((function(a){return a===e.id})),className:N()(u.a.followBTN,e.error?a.followBTN_ERR_DNMC:a.followBTNDnmc),onClick:function(){return o.followThunkToggler(e.id,e.followed,e.error)}},l.a.createElement("div",{className:u.a.followBTNContainer},l.a.createElement("div",{className:u.a.followBTNText},e.error?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:u.a.onFollowingErrBTN},e.error),l.a.createElement("p",{className:u.a.tryAgainBTN},"Try again!")):e.followed?"unFollow":"Follow"," "),l.a.createElement("div",{className:u.a.followBTNLoader}," ",r.followingInProgress.some((function(a){return a===e.id}))&&l.a.createElement("img",{src:r.BTN_FLW_GIF,alt:"Err"})," "))),l.a.createElement("button",{className:N()(u.a.followBTN,a.followBTNDnmc),onClick:function(e){!function(e,a){var r;(null===J||void 0===J?void 0:J.current)&&e.target.parentElement.parentElement.parentElement.parentElement.getBoundingClientRect().top<=(null===J||void 0===J||null===(r=J.current)||void 0===r?void 0:r.getBoundingClientRect().top)&&e.target.parentElement.parentElement.parentElement.parentElement.scrollIntoView({behavior:"smooth"}),v(u.a.wrapperLocked);var t=Object(s.a)(L.servInfo);void 0===t[a]?t[a]={flag:!0}:!0===t[a].flag?t[a].flag=!1:!1===t[a].flag&&(t[a].flag=!0),t[a].closer=function(e,a){return V(e,a)},q(L={servInfo:t})}(e,t)}},"Write message ")))),(null===(c=L.servInfo[t])||void 0===c?void 0:c.flag)&&l.a.createElement(f,{index:t,userEl:n[t],themes:a,sendMsg:o.sendMessageToUserThunk,closer:L.servInfo[t].closer,delayFlag:m}))})))),l.a.createElement("div",{className:N()(u.a.moreUserUnits,a.moreUserUnitsDnmc)})))},f=l.a.memo((function(e){var a=e.themes,r=e.userEl,s=e.sendMsg,t=e.index,n=e.closer,o=e.delayFlag,i=function(e,a,r,t){var n=t.setSubmitting,l=Object(m.a)();s(e,a.text,l,r),a.text="",n(!1)};return l.a.createElement("div",{className:N()(u.a.userWriteMode,a.userWriteModeDnmc,u.a.userUnitShowed,o&&u.a.delay)},l.a.createElement("div",{className:u.a.miniHeadWrapper},l.a.createElement("h2",{className:N()(u.a.userName,a.userNameDnmc)},r.name),l.a.createElement(_.b,{to:"/dialogs/".concat(r.id)},l.a.createElement("button",{className:N()(u.a.followBTN,a.followBTNDnmc)},"Go to chat")),l.a.createElement("button",{className:N()(u.a.closeBTN,u.a.followBTN,a.followBTNDnmc),onClick:function(e){!function(e,a){var r,s,t,l,o,u=null===a||void 0===a||null===(r=a.parentElement)||void 0===r||null===(s=r.parentElement)||void 0===s||null===(t=s.parentElement)||void 0===t||null===(l=t.parentElement)||void 0===l||null===(o=l.children[e])||void 0===o?void 0:o.children[0];n&&n(e,u)}(t,e.target)}},"X")),l.a.createElement("div",{className:u.a.textAreaWrapper},l.a.createElement(c.b,{initialValues:{text:""},validate:function(e){var a={};return e.text||(a.text="Required"),a},onSubmit:function(e,a){var s=a.setSubmitting;i(r.id,e,r.name,{setSubmitting:s}),e.text="",s(!1)}},(function(e){var s=e.values,t=e.errors,n=e.handleChange,o=e.handleSubmit,_=e.isSubmitting,m=e.setSubmitting;return l.a.createElement("form",{onSubmit:o},l.a.createElement(c.a,{name:"text",className:u.a.talkTextarea,as:"textarea",onChange:n,value:s.text,placeholder:t.text,onKeyDown:function(e){return function(e,a,r,s,t){var n=t.setSubmitting;13==e.keyCode&&e.shiftKey||13===e.keyCode&&i(a,r,s,{setSubmitting:n})}(e,r.id,s,r.name,{setSubmitting:m})}}),l.a.createElement("button",{type:"submit",disabled:_,className:N()(u.a.followBTN,a.followBTNDnmc)}," Send Msg "))}))))}))}}]);
//# sourceMappingURL=1.1b11a1d0.chunk.js.map